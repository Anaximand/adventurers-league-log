<div class="row">
  <div class="form-group col-md-offset-3 col-md-6">
    <%= f.label :faction, 'Faction' %>
    <label class='pull-right css3-checkboxes'><%= check_box_tag :use_faction_override, '1', @use_faction_override %> <span class="link-like">Manual Entry</span></label>
    <%= f.text_field :faction_override, class: 'form-control' %>
    <%= f.select :faction_id, @factions.map {|p| [ p.name, p.id ] }, { include_blank: true }, { class: 'form-control ' } %>
  </div>
</div>

<div class="row">
  <div class="form-group col-md-offset-3 col-md-6">
    <%= f.label :faction_rank, 'Faction Rank' %>
    <%= f.text_field :faction_rank, class: 'form-control' %>
  </div>
</div>

<script>
  $('#use_faction_override').change( function(){
    var formGroupParent = $(this).parent().parent();
    if($(this).is(':checked')) {
      formGroupParent.find('#character_faction_override').removeClass('hide');
      formGroupParent.find('#character_faction_id').addClass('hide');
    } else {
      formGroupParent.find('#character_faction_override').addClass('hide');
      formGroupParent.find('#character_faction_id').removeClass('hide');
    }
  });

  $('#use_faction_override').change();
</script>
